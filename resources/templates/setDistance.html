<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>이동거리 선택</title>
    <link rel="stylesheet" href="/resources/static/css/style.css">

    <style>
        .minDistance{
            position:absolute;
            left:15%;
        }
        .maxDistance{
            position:absolute;
            right:15%;
        }
    </style>

</head>
<body>
    <br><p class="bigfont" style="margin:100px">이동거리를 선택해주세요</p><br>
    <div style="display: inline-block;font-size: 125%;" id="minDistance" class="minDistance">0.5 Km</div>
    <div style="display: inline-block;"><div id="value" style="font-size: 200%;"></div></div> <!-- 현재 거리 표시-->
    <div style="display: inline-block;font-size: 125%;" id="maxDistance"class="maxDistance">10 Km</div><br>

    <form method="post" action="https://0284-211-194-113-3.ngrok-free.app/api/km/2">
        <input type="hidden" id="latitude" name="latitude">
        <input type="hidden" id="longitude" name="longitude">
        <input type="range" min="0.5" max="10" step="0.5" value="5" class="slider" id="walkingdistance" name="distance"><br>

        <div style="display: inline-block;font-size: 100%;" id="minDistance" class="minDistance">최소</div>
        <div style="display: inline-block;font-size: 100%;" id="minDistance" class="maxDistance">최대</div>
    
        <input type="submit" style="margin:100px" class="button" value="추천받기">
    </form>

    <script>
        var slider = document.getElementById("walkingdistance");
        var output = document.getElementById("value");

        function updateValue() {
            output.innerHTML = slider.value + " Km";
        }

        slider.oninput = function() {
            updateValue();
        };

        // 초기 값 설정
        updateValue();

        // 현재 위치 가져오기
        navigator.geolocation.getCurrentPosition(function(position) {
            var latitude = position.coords.latitude;
            var longitude = position.coords.longitude;

            // 폼에 위치 정보 설정
            document.getElementById("latitude").value = latitude;
            document.getElementById("longitude").value = longitude;
        });
    </script>
</body>
</html>